package sgtmelon.scriptum.cleanup.test.ui.control.notification

import androidx.test.ext.junit.runners.AndroidJUnit4
import org.junit.Test
import org.junit.runner.RunWith
import sgtmelon.scriptum.cleanup.domain.model.item.NoteItem
import sgtmelon.scriptum.cleanup.test.parent.ParentNotificationTest


/**
 * Test of notification open from status bar
 */
@RunWith(AndroidJUnit4::class)
class OpenTest : ParentNotificationTest() {

    // TODO finish

    @Test fun openTextNote() = db.insertText(db.textNote.copy(isStatus = true)).let {
        TODO()
        notifyNote(it)

        launch { onOpen { bindNoteScreen(it) { pressBack() }.mainScreen() } }
    }

    @Test fun openRollNote() = db.insertRoll(db.rollNote.copy(isStatus = true)).let {
        TODO()
        notifyNote(it)

        launch { onOpen { bindNoteScreen(it) { pressBack() }.mainScreen() } }
    }

    private fun notifyNote(item: NoteItem) {
        TODO()
        val sort = preferences.sort
//        bindControl.notifyNote(item, listOf(), sort)
    }


    @Test fun openInfo() = db.insertNotification().let {
        TODO()

        //        bindControl.notifyCount(count = 1)
        launch { onOpen { notificationsScreen(isEmpty = false) { pressBack() }.mainScreen() } }
    }

}